<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="tween.js"></script>;
		<script type="text/javascript" src='mTween.js'></script>
		<style>
			body{
				margin: 0;
			}
			ul{
				margin: 0;
				padding: 0;
			}
			li{
				list-style: none;
				float: left;
				width: 50px;
				position: relative;
				overflow: hidden;
				height: 70px;	
			}
			div{
				position: absolute;
				top: 0;
			}
			img{
				vertical-align: top;
			}
		</style>
	</head>
	<body>
		<ul>
			<li>
				<div>
					<img src="img/0.jpg" alt="">
					<img src="img/1.jpg" alt="">
				</div>
			</li>
			<li>
				<div>
					<img src="img/0.jpg" alt="">
					<img src="img/1.jpg" alt="">
				</div>
			</li>
			<li>
				<img src="img/c.jpg" alt="">
			</li>
			<li>
				<div>
					<img src="img/0.jpg" alt="">
					<img src="img/1.jpg" alt="">
				</div>
			</li>
			<li>
				<div>
					<img src="img/0.jpg" alt="">
					<img src="img/1.jpg" alt="">
				</div>
			</li>
			<li>
				<img src="img/c.jpg" alt="">
			</li>
			<li>
				<div>
					<img src="img/0.jpg" alt="">
					<img src="img/1.jpg" alt="">
				</div>
			</li>
			<li>
				<div>
					<img src="img/0.jpg" alt="">
					<img src="img/1.jpg" alt="">
				</div>
			</li>
		</ul>
		<script>
		/*1 获取到所有的新的日期；//需要用到补零函数
		 *2 添加定时器先实现小点闪烁
		 *3 图片向上滑动，在定时器里实现所有时间滑动；
		 */
			var imgs1 = document.querySelectorAll('div img');
			var imgs2 = document.querySelectorAll('li>img');
			var divs = document.getElementsByTagName('div');
			var date = new Date;
			var h = date.getHours();
			var m = date.getMinutes();
			var s = date.getSeconds();
			var time1 = totwo(h)+totwo(m)+totwo(s);
//			for(var i=0;i<imgs1.length;i++){
//				divs[i].getElementsByTagName('img')[0].src = 'img/'+time1[i]+'.jpg';
//			}
			//补零
			function totwo(n){
				return n<10? '0'+n: ''+n;
			}
			//让两个小点闪烁
			setInterval(function(){
				for(var i=0;i<imgs2.length;i++){
					imgs2[i].src = 'img/c.jpg';
				}
				//延迟半秒
				setTimeout(function(){
					for(var i=0;i<imgs2.length;i++){
						imgs2[i].src = 'img/b.jpg';	
					}
				},500)
				
		//获取到被隐藏掉的时间，在定时器里
			var date = new Date;
			var h = date.getHours();
			var m = date.getMinutes();
			var s = date.getSeconds();
			var time2 = totwo(h)+totwo(m)+totwo(s);
		//获取到使用这些时间的具体的图片//通过div获取到它下边的img第0个和第一个
		 	for(var i=0;i<divs.length;i++){	
		 		divs[i].getElementsByTagName('img')[0].src = 'img/'+ time1[i]+'.jpg';
				divs[i].getElementsByTagName('img')[1].src = 'img/'+ time2[i]+'.jpg';
		  	};
		    function fn(n){
				if(divs[n].getElementsByTagName('img')[0].src != divs[n].getElementsByTagName('img')[1].src){
					mTween(divs[n],'top',-70,300,'linear',function(){
						divs[n].getElementsByTagName('img')[0].src = 'img/'+time1[n]+'.jpg';
						divs[n].style.top = '';
					})
				}
				time1 = totwo(h)+totwo(m)+totwo(s)
			}
			
		//用传参把需要换掉的div的下标换掉
			    for(var i=0;i<divs.length;i++){
			    	fn(i);
			    }
			},1000)
		</script>
	</body>
</html>
